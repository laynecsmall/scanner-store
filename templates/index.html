<!doctype html>
<html lang="en">
<head>
  
  <title>Scanner store</title>

  <link rel="stylesheet" href="/static/css/main.css">
  <link rel="stylesheet" href="/static/css/bootstrap.min.css">

  <link rel="icon" href="/static/images/favicon.ico" />

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

  <script src="/static/js/bootstrap.min.js"></script>

  <script src="/static/js/global.js"></script>
  
</head>

<body>
  <div class="container">
    <h1>Scanner-store api documentation</h1>
      {% block content %}
      <div id="description" >
        <p>
        This is the scanner store interface, used to store and retrieve data from the SmartCities scanner device.
        Routes are as follows:
        </p>
      </div>
      <br />
      <div id="table">
        <table class="table table-bordered table-hover">
          <tr>
            <th> Endpoint </th>
            <th> Method </th>
            <th> Description </th>
          </tr>

          <tr>
            <td> / </td>
            <td> GET </td>
            <td> This page, description and help </td>
          </tr>

          <tr>
            <td> /new/result/ </td>
            <td> POST </td>
            <td> send a new result. Post form should have: 
              <list>
              <ul> device_name  - the device id </ul>
              <ul> time  - a datetime in iso format</ul>
              <ul> raw_results - the results from the scanner</ul>
              </list>
            </td>
          </tr>

          <tr>
            <td> /new/device/ </td>
            <td> POST </td>
            <td> Create a record for new device. Post form should have: 
              <list>
              <ul> device_name - the device id</ul>
              <ul> device_type - a string identifying the type of device</ul>
              <ul> sensor_x - pad x dimension as an integer</ul>
              <ul> sensor_y - pad y dimension as an integer</ul>
              </list>
            </td>
          </tr>

          <tr>
            <td> /results/latest_for_device/&lt;device_name&gt; </td>
            <td> GET </td>
            <td> returns the latest result submitted for &lt;device_name&gt; </td>
          </tr>

          <tr>
            <td> /results/latest_n_for_device/&lt;n&lt;/&lt;device_name&gt; </td>
            <td> GET </td>
            <td> returns the latest n results submitted for &lt;device_name&gt; </td>
          </tr>

          <tr>
            <td> /device/details/&lt;device&gt;</td>
            <td> GET </td>
            <td> returns the details for &lt;device&gt;</td>
          </tr>

          <tr>
            <td> /device/all</td>
            <td> GET </td>
            <td> returns the details for all registered devices</td>
          </tr>

        </table>
        {% endblock %}
      </div>
  </div>

</body> 
</html>
